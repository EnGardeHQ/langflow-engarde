# Railway Environment Configuration Template
# Copy these variables to your Railway project settings

# Application
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO

# Server Configuration
PORT=8000
WEB_CONCURRENCY=4  # Adjust based on Railway plan (2-4 workers recommended)
WORKERS_PER_CORE=1

# Database
DATABASE_URL=${DATABASE_URL}  # Auto-provided by Railway Postgres
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# CORS
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# Security
SECRET_KEY=${SECRET_KEY}  # Set in Railway variables
API_KEY=${API_KEY}  # Set in Railway variables

# Feature Flags
ENABLE_DEFERRED_LOADING=true
ENABLE_ML_FEATURES=true  # Set to false to disable heavy ML imports
PRELOAD_MODELS=false  # Only preload models if you have sufficient memory

# Performance Tuning
GUNICORN_TIMEOUT=300
GUNICORN_GRACEFUL_TIMEOUT=30
GUNICORN_KEEPALIVE=5

# Transformers/ML Configuration
TRANSFORMERS_CACHE=/tmp/transformers_cache
HF_HOME=/tmp/huggingface_cache
TOKENIZERS_PARALLELISM=false  # Avoid warning in production

# Monitoring (optional)
SENTRY_DSN=${SENTRY_DSN}
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1
